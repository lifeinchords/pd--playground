#N canvas 414 140 697 536 10;
#X obj 94 188 *~;
#X obj 136 188 line~;
#X obj 18 179 cos~;
#X obj 18 154 +~;
#X obj 136 165 pack 0 50;
#X floatatom 136 117 0 0 0 0 - - -;
#X obj 136 141 / 100;
#X obj 18 129 phasor~;
#X obj 18 284 output~;
#X obj 17 253 hip~;
#X text 442 513 updated for Pd version 0.37;
#N canvas 62 299 558 609 fft 0;
#X obj 19 61 inlet~;
#X obj 208 212 inlet;
#X obj 29 92 rfft~;
#X obj 29 125 *~;
#X obj 60 125 *~;
#X obj 29 155 sqrt~;
#X obj 332 109 block~ 4096 1;
#X obj 29 181 biquad~ 0 0 0 0 1;
#X text 93 93 Fourier series;
#X text 98 146 magnitude;
#X text 96 131 calculate;
#X text 21 3 This subpatch computes the spectrum of the incoming signal
with a (rectangular windowed) FFT. FFTs aren't properly introduced
until much later.;
#X text 83 61 signal to analyze;
#X text 193 164 delay two samples;
#X text 191 182 for better graphing;
#X obj 16 425 samplerate~;
#X obj 16 402 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X floatatom 16 472 5 0 0 0 - - -;
#X obj 16 448 / 256;
#X obj 16 378 loadbang;
#X obj 72 494 s fundamental;
#X text 14 319 At load time \, calculate a good choice of fundamental
frequency for showing spectra: the 16th bin in a 4096-point spectrum
\, so SR*16/4096 or SR/256.;
#X obj 220 257 metro 500;
#X obj 220 234 inlet;
#X text 273 232 toggle to graph repeatedly;
#X text 262 212 bang to graph once;
#X obj 19 295 tabwrite~ E09-signal;
#X obj 208 295 tabwrite~ E09-spectrum;
#X obj 16 494 t b f;
#X msg 16 517 \; cm 6;
#X text 22 551 set carrier multiplier after fundamental;
#X connect 0 0 2 0;
#X connect 0 0 26 0;
#X connect 1 0 26 0;
#X connect 1 0 27 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 2 1 4 0;
#X connect 2 1 4 1;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 7 0 27 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 28 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 22 0 26 0;
#X connect 22 0 27 0;
#X connect 23 0 22 0;
#X connect 28 0 29 0;
#X connect 28 1 20 0;
#X restore 62 243 pd fft;
#X obj 122 222 bng 18 250 50 0 empty empty empty 0 -6 0 8 -262144 -1
-1;
#X obj 122 243 tgl 18 0 empty empty empty 0 -6 0 8 -262144 -1 -1 1
1;
#X text 143 242 <-- repeatedly;
#X text 144 222 <-- graph once;
#N canvas 0 0 450 300 graph1 0;
#X array E09-signal 882 float 0;
#X coords 0 1.02 882 -1.02 200 80 1;
#X restore 433 28 graph;
#N canvas 0 0 450 300 graph1 0;
#X array E09-spectrum 259 float 1;
#A 0 0 0 650.307 6.95404e-05 7.98316e-05 3.6895e-05 6.21494e-05 7.79509e-05
7.72074e-05 7.39337e-05 6.99502e-05 7.45746e-05 7.18926e-05 9.18177e-05
0.00010509 0.000104478 0.000171184 0.00026607 743.586 0.000150848 2.99117e-05
1.99553e-05 1.36857e-05 3.10534e-05 4.1609e-05 5.68786e-05 6.70024e-05
6.57441e-05 6.83578e-05 0.000105813 0.000128213 0.00018268 0.000251111
0.000512528 868.496 0.000480187 0.00022129 0.000137983 9.66033e-05
5.72057e-05 5.35818e-05 2.26783e-05 2.03288e-05 1.16815e-05 2.54043e-05
4.9095e-05 7.28552e-05 0.000137804 0.00019581 0.00050285 650.199 0.000632872
0.000364608 0.000229861 0.000193562 0.000172104 0.000163867 0.000138561
0.00013944 0.000137001 0.000124205 0.000139334 0.000132855 0.000120805
0.000174981 0.000226598 92.7533 6.839e-06 6.66678e-05 7.70316e-05 9.02254e-05
0.000107926 9.74591e-05 0.000135249 0.00013535 0.000154005 0.000174531
0.000221813 0.000262963 0.000331844 0.00053077 0.00104936 706.725 0.00103286
0.000525588 0.00031974 0.000240327 0.0001874 0.000167694 0.000129624
0.000126009 0.000108226 9.29386e-05 6.58705e-05 5.01432e-05 1.12139e-05
1.44986e-05 0.000177669 170.715 0.000427047 0.000280896 0.000248063
0.000212071 0.000201068 0.000205102 0.000221539 0.000220526 0.000240463
0.000264129 0.000325114 0.000386973 0.000475824 0.000752978 0.00146485
707.929 0.00145745 0.000749798 0.0004678 0.000371841 0.000308597 0.000260351
0.000230569 0.000218547 0.00019636 0.000194844 0.000178236 0.000200591
0.000213214 0.000235612 0.000340595 97.2546 0.00010292 1.25764e-05
7.65815e-05 8.61316e-05 9.66429e-05 0.000115074 0.000139327 0.00016778
0.000179864 0.000222614 0.000275391 0.00034739 0.000461377 0.000783743
0.00159745 634.149 0.00177087 0.000936177 0.00068967 0.000568066 0.000492155
0.000450031 0.000441684 0.000449152 0.000451031 0.000491874 0.000562493
0.000651363 0.000843428 0.00123848 0.00242592 818.195 0.00242119 0.00123255
0.000845092 0.000652835 0.000550632 0.000495972 0.000459025 0.000456294
0.0004589 0.00046746 0.000525121 0.000597971 0.000755298 0.00105188
0.00202812 606.06 0.00193395 0.000964317 0.000635522 0.000487489 0.000419241
0.000347788 0.000322376 0.000314566 0.00029841 0.000315952 0.000332347
0.000395402 0.000478772 0.000634123 0.00122004 330.133 0.00112964 0.000552585
0.000372113 0.000287042 0.000237526 0.000190638 0.00017911 0.000160469
0.000151288 0.000162058 0.000178211 0.000184046 0.000246762 0.000303677
0.000587404 144.55 0.000536642 0.000265368 0.000170133 0.000122158
9.70567e-05 7.8736e-05 7.5193e-05 7.91108e-05 7.29869e-05 6.53285e-05
5.95578e-05 7.86444e-05 9.884e-05 0.000123645 0.000232395 53.3027 0.000215725
9.76578e-05 6.21089e-05 4.48737e-05 4.20304e-05 3.75945e-05 3.21303e-05
3.67011e-05 2.40979e-05 1.77639e-05 1.42818e-05 3.63014e-05 3.07093e-05
4.29422e-05 8.47624e-05 17.0421 6.99166e-05 2.5965e-05 1.78601e-05
1.94931e-05 2.37596e-05 3.41965e-05 1.42736e-05 1.03377e-05 1.60246e-05
5.11596e-06 1.19143e-05 4.06444e-06 1.23976e-05 1.98878e-05 2.90082e-05
4.82122;
#X coords 0 2100 258 -20 259 130 1;
#X restore 403 175 graph;
#X text 442 114 ---- 0.02 seconds ----;
#X text 433 306 2;
#X text 464 306 4;
#X text 403 306 0;
#X text 448 321 -- partial number --;
#X text 497 8 WAVEFORM;
#X text 497 157 SPECTRUM;
#X text 663 291 0;
#X text 664 173 0.5;
#X obj 93 117 osc~;
#X obj 93 86 r fundamental;
#X text 171 117 index (x100);
#X text 496 306 6;
#X text 529 306 8;
#X text 557 306 10;
#X text 589 306 12;
#X text 621 306 14;
#X text 43 3 SPECTRUM OF TWO-OPERATOR PHASE MODULATION;
#X floatatom 18 58 3 0 15 0 - - -;
#X obj 18 105 *;
#X obj 18 33 r cm;
#X text 52 57 carrier harmonic #;
#X text 71 367 This patch measures the spectrum of two-operator phase
modulation. The carrier frequency is initially six times the modulation
frequency \, but you can change it with the "carrier harmonic #" control.
Changing the index changes the relative strengths of the harmonics.
Past a certain index (which depends on the carrier frequency) the lower
sidebands begin to reflect about the left edge of the spectrum \, causing
complicated interference effects.;
#N canvas 0 0 352 356 fig 1;
#N canvas 0 0 450 300 graph1 0;
#X array a=0.15 259 float 1;
#A 0 0 0 0.0703002 8.28258e-05 7.7824e-05 7.58599e-05 7.54092e-05 7.58999e-05
6.82418e-05 8.34268e-05 7.0497e-05 8.0035e-05 7.60626e-05 8.00382e-05
7.40144e-05 7.36001e-05 8.43278e-05 7.45042e-05 0.383957 8.02384e-05
7.94432e-05 7.92826e-05 8.33922e-05 8.386e-05 8.71561e-05 7.93762e-05
8.53188e-05 8.64022e-05 7.99238e-05 8.22201e-05 8.35616e-05 7.53817e-05
0.00011749 9.85567e-05 4.0249 9.1514e-05 0.000101092 8.54377e-05 0.000105579
9.9686e-05 0.000105725 0.000107313 0.000103663 0.000106336 0.000107505
0.000109008 0.00010788 0.000119535 0.00012375 0.000149439 33.7792 9.51753e-05
0.000126189 0.000114056 0.000115625 0.000118401 0.000130609 0.000138951
0.000143153 0.000159564 0.000165619 0.000224725 0.000192441 0.000221343
0.000271076 0.000399094 211.02 6.85406e-05 8.15751e-05 7.69756e-05
0.000124251 0.000145103 0.000172128 0.00020052 0.000224134 0.000255535
0.000292105 0.000346182 0.000413827 0.00052807 0.000742109 0.00137549
861.822 0.00112213 0.000487146 0.000229312 0.000116662 4.02305e-05
3.26505e-05 8.98665e-05 0.000150976 0.000188035 0.000282555 0.000392775
0.000538996 0.00077908 0.00125572 0.00267989 1617.83 0.00301544 0.00159468
0.00112806 0.000899682 0.000766566 0.000679444 0.000620415 0.000607049
0.000590288 0.000597638 0.000625133 0.000687102 0.00080988 0.00111768
0.00196477 861.821 0.00160556 0.000732624 0.000448651 0.000320828 0.000221197
0.000180669 0.000153696 0.000146612 0.000126849 0.000128053 0.000136216
0.000156964 0.000210756 0.000226205 0.000487026 211.02 0.000507661
0.000255649 0.00017921 0.000135757 0.000132398 0.000107924 9.4997e-05
8.22576e-05 8.37554e-05 8.0242e-05 8.20279e-05 8.02812e-05 9.69496e-05
8.28965e-05 0.000133743 33.7803 4.14856e-05 9.66541e-06 1.04117e-05
2.36924e-05 1.30808e-05 2.39347e-05 2.32483e-05 1.90001e-05 2.28388e-05
2.3504e-05 3.37847e-05 1.87771e-05 1.58582e-05 2.33738e-05 1.36111e-05
4.02315 3.38908e-05 3.6593e-05 2.59885e-05 1.84265e-05 2.52103e-05
2.1407e-05 2.61006e-05 1.52813e-05 2.55847e-05 1.37039e-05 2.50936e-05
2.40546e-05 1.77184e-05 2.39083e-05 2.18243e-05 0.384289 2.59142e-05
1.62223e-05 3.37296e-05 2.51419e-05 1.72393e-05 1.74599e-05 1.77663e-05
2.01164e-05 2.28078e-05 1.6495e-05 1.83872e-05 1.48433e-05 1.95303e-05
1.8429e-05 1.85506e-05 0.0293397 2.10962e-05 2.11766e-05 1.7828e-05
1.82503e-05 1.46053e-05 2.48775e-05 1.22892e-05 2.28567e-05 1.32529e-05
9.22303e-06 1.36364e-05 1.31835e-05 9.44912e-06 2.69047e-05 6.76436e-06
0.000619101 1.31108e-05 1.58977e-05 9.24655e-06 2.03454e-05 9.69018e-06
1.98508e-05 9.80706e-06 1.24174e-05 1.48292e-05 9.79186e-06 5.81198e-06
1.04236e-05 1.71499e-05 2.146e-05 1.49933e-05 0.00144584 1.30391e-05
1.02349e-05 1.63877e-05 1.3168e-05 1.18307e-05 1.03969e-05 8.48344e-06
1.43655e-05 7.74717e-06 1.24391e-05 2.89408e-05 1.42629e-05 2.51948e-05
8.45868e-06 1.43632e-05 0.000125816 1.28722e-05 9.83223e-06 1.52903e-05
8.26526e-06 1.50926e-05 1.12522e-05 1.06899e-05 8.05916e-06 7.81248e-06
8.5486e-06 2.60816e-05 1.1828e-05 7.53053e-06 8.03734e-06 7.36696e-06
0.00171509;
#X coords 0 2100 258 -20 259 80 1;
#X restore 55 12 graph;
#X text 85 92 2;
#X text 116 92 4;
#X text 53 92 0;
#X text 112 323 -- partial number --;
#X text 315 82 0;
#X text 316 10 0.5;
#X text 148 92 6;
#X text 181 92 8;
#X text 209 92 10;
#X text 241 92 12;
#X text 273 92 14;
#N canvas 0 0 450 300 graph1 0;
#X array a=0.38 259 float 1;
#A 0 0 0 13.2075 9.01207e-05 8.70606e-05 6.76e-05 8.09863e-05 7.98201e-05
6.43602e-05 7.14505e-05 8.16113e-05 6.94654e-05 7.65473e-05 8.4943e-05
8.82548e-05 8.3574e-05 8.91054e-05 8.88718e-05 33.6016 7.90427e-05
7.84417e-05 7.95662e-05 7.98282e-05 9.06702e-05 8.39573e-05 9.25401e-05
9.34793e-05 9.15257e-05 9.26725e-05 0.00012438 0.000116029 0.000118952
0.000132676 0.00016569 129.572 3.53731e-05 8.10875e-05 6.2546e-05 8.60095e-05
9.5653e-05 0.000114435 0.000117161 0.000121221 0.000131931 0.000150091
0.000155585 0.000179804 0.000216151 0.000284719 0.000452274 401.109
0.00022572 3.36619e-05 2.05405e-05 4.99625e-05 7.45945e-05 0.000103169
0.000126674 0.000152661 0.000166092 0.000200028 0.000234992 0.000290715
0.000374674 0.000579784 0.00108489 878.52 0.000943389 0.000430565 0.000243927
0.00014659 8.51008e-05 4.07877e-05 4.27507e-06 3.59319e-05 7.80367e-05
0.000130735 0.000188578 0.000274806 0.000420112 0.000666062 0.0014644
1070.71 0.00165931 0.000883785 0.000593493 0.000486477 0.000407614
0.00034737 0.000306031 0.000285423 0.000270599 0.000243352 0.000208578
0.00020856 0.000200669 0.000207206 0.000182845 18.3719 0.000245602
0.00021678 0.000247792 0.000243019 0.000255011 0.000257611 0.000269684
0.000294811 0.000335434 0.000376404 0.000439411 0.000543394 0.000707462
0.00110571 0.00218807 1070.71 0.00223919 0.0011346 0.000808269 0.000630362
0.000520651 0.00049009 0.000463234 0.000458057 0.000442235 0.000475664
0.000520714 0.00060559 0.000774559 0.00108648 0.00211753 878.516 0.00205012
0.00101272 0.000685898 0.000528339 0.000443613 0.000382422 0.000338589
0.000328094 0.000317968 0.000321367 0.000343993 0.000384848 0.000476279
0.000598642 0.00114157 401.089 0.000995847 0.000473914 0.000324223
0.000232746 0.000199841 0.000145475 0.000129186 0.000122791 0.000116712
0.000115514 0.000124689 0.000133529 0.000170995 0.000195553 0.000399659
129.404 0.000362684 0.000178044 0.000116459 7.70398e-05 7.73178e-05
6.43015e-05 5.13572e-05 4.89025e-05 4.59562e-05 4.60323e-05 4.5813e-05
4.49701e-05 6.11382e-05 8.03473e-05 0.000115462 32.496 9.09304e-05
5.03183e-05 1.24526e-05 1.25718e-05 1.98562e-05 9.52728e-06 3.7966e-06
1.20953e-05 6.67068e-06 7.85331e-06 6.19481e-06 3.14837e-06 1.26468e-05
1.66098e-05 1.93673e-05 6.69832 3.44059e-05 2.24515e-05 1.44451e-05
1.36159e-05 6.35461e-06 2.81962e-05 4.70172e-06 1.42476e-05 6.35098e-06
6.08417e-06 8.4779e-06 1.75114e-06 1.06966e-05 1.76358e-05 2.23599e-05
1.1751 1.13079e-05 1.08892e-05 2.18861e-05 8.92831e-06 1.03326e-05
5.01118e-06 8.40712e-06 7.87843e-06 1.04164e-05 7.1973e-06 1.64417e-05
1.06049e-05 4.82872e-06 1.22152e-05 7.67297e-06 0.178662 1.21213e-05
1.17383e-05 1.33424e-05 2.5426e-06 6.88594e-06 9.519e-06 1.3341e-05
1.17073e-05 7.10562e-06 1.08762e-05 3.52865e-05 1.74725e-05 2.54949e-05
1.82231e-05 8.19801e-06 0.0222409 5.07433e-06 5.91616e-06 2.77479e-06
7.53079e-06 7.16281e-06 1.15061e-05 1.06719e-05 9.43313e-06 2.82388e-06
3.55318e-06 6.39363e-06 4.25031e-06 5.96645e-06 1.19598e-05 7.93634e-06
0.00182587;
#X coords 0 1024 258 -10 259 80 1;
#X restore 56 119 graph;
#X text 86 198 2;
#X text 117 198 4;
#X text 54 198 0;
#X text 316 188 0;
#X text 149 198 6;
#X text 182 198 8;
#X text 210 198 10;
#X text 242 198 12;
#X text 274 198 14;
#X text 318 115 0.25;
#N canvas 0 0 450 300 graph1 0;
#X array a=0.84 259 float 1;
#A 0 0 0 650.359 6.19377e-05 8.13922e-05 5.68683e-05 6.68156e-05 8.87846e-05
7.18431e-05 7.21513e-05 7.67697e-05 7.5231e-05 6.98588e-05 8.18381e-05
9.1734e-05 0.000117187 0.000177286 0.000274279 743.623 0.000150187
3.37127e-05 2.24316e-05 1.83023e-05 1.8729e-05 3.9662e-05 5.13645e-05
5.78796e-05 6.02766e-05 8.04478e-05 0.000100339 0.0001309 0.000162367
0.000258028 0.00050879 868.508 0.000464962 0.000222341 0.000129939
0.000107018 6.6239e-05 4.9011e-05 2.49634e-05 1.68208e-05 4.56261e-06
2.66627e-05 5.31412e-05 7.53018e-05 0.000131992 0.000193975 0.000489107
650.188 0.000634756 0.000374753 0.000229652 0.000192339 0.000169526
0.000149156 0.000147808 0.000138124 0.000127126 0.000126707 0.000137241
0.000119976 0.000122049 0.000177833 0.000225327 92.7701 8.93048e-06
6.41506e-05 8.15072e-05 8.89082e-05 0.000107776 0.000101308 0.000121358
0.000140651 0.000147604 0.000180871 0.000203902 0.000254362 0.000332715
0.000527612 0.00104003 706.724 0.00103198 0.000532054 0.000316168 0.000246949
0.000178131 0.000154793 0.000131255 0.000128059 0.000104857 9.09451e-05
5.93984e-05 3.89517e-05 1.39004e-05 1.70425e-05 0.000164834 170.693
0.000432358 0.000283349 0.00023176 0.000221121 0.000208602 0.000203145
0.000216529 0.000224727 0.000239631 0.000268803 0.000306556 0.000382503
0.00048489 0.000760214 0.00146983 707.93 0.00146802 0.000751161 0.000462868
0.000379571 0.000296347 0.000262696 0.0002301 0.000224888 0.000194568
0.000190719 0.000171993 0.000201327 0.000217664 0.000230893 0.000355829
97.276 0.000111248 3.65905e-06 6.11023e-05 7.88817e-05 0.000101562
0.000101709 0.000135357 0.000161008 0.000187699 0.000218676 0.000268029
0.000356825 0.000470999 0.000792207 0.00160251 634.135 0.00178327 0.000940031
0.000692497 0.000559907 0.000499556 0.000453284 0.000437019 0.000450276
0.000443185 0.000489819 0.000560793 0.000662158 0.000847269 0.00122126
0.00243014 818.195 0.0024272 0.00122415 0.000850732 0.000664744 0.000564407
0.000505343 0.000460219 0.000447069 0.000455196 0.000475703 0.000529817
0.000598056 0.000753895 0.00104578 0.00203485 606.07 0.0019356 0.000955461
0.000634845 0.000505421 0.000419552 0.000346304 0.000329286 0.000304415
0.000305085 0.000318159 0.000330196 0.0003931 0.000476332 0.000639824
0.0012279 330.14 0.0011385 0.000560673 0.000371104 0.00028093 0.000228968
0.000196934 0.000178657 0.000170617 0.000152108 0.000158642 0.00019529
0.00019201 0.00024008 0.00029047 0.000578581 144.554 0.000535153 0.000266752
0.000166293 0.000118106 9.56825e-05 9.61797e-05 7.64042e-05 6.73657e-05
6.37796e-05 6.90711e-05 7.44233e-05 7.47812e-05 9.63878e-05 0.000121163
0.000230386 53.3039 0.000215023 0.000102904 6.09231e-05 4.94846e-05
3.4557e-05 3.39917e-05 3.63038e-05 2.9067e-05 1.48658e-05 2.39917e-05
1.84168e-06 2.89751e-05 2.7101e-05 4.84059e-05 8.31182e-05 17.0422
6.67248e-05 2.50429e-05 3.7331e-05 1.47536e-05 1.7087e-05 1.06318e-05
5.2262e-06 1.55559e-05 6.57545e-06 2.98195e-06 7.99816e-06 8.8357e-06
1.60336e-05 1.41742e-05 1.78225e-05 4.82098;
#X coords 0 1024 258 -10 259 80 1;
#X restore 58 230 graph;
#X text 88 310 2;
#X text 119 310 4;
#X text 56 310 0;
#X text 318 300 0;
#X text 151 310 6;
#X text 184 310 8;
#X text 212 310 10;
#X text 244 310 12;
#X text 276 310 14;
#X text 319 228 0.25;
#X restore 155 315 pd fig;
#X connect 0 0 3 1;
#X connect 1 0 0 1;
#X connect 2 0 9 0;
#X connect 2 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 3 0;
#X connect 9 0 8 0;
#X connect 9 0 8 1;
#X connect 12 0 11 1;
#X connect 13 0 11 2;
#X connect 27 0 0 0;
#X connect 28 0 27 0;
#X connect 28 0 37 1;
#X connect 36 0 37 0;
#X connect 37 0 7 0;
#X connect 38 0 36 0;
