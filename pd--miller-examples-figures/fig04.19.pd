#N canvas 150 222 437 324 10;
#X obj 12 249 osc~;
#X obj 58 90 r poll-table;
#X obj 91 195 + 50;
#X obj 91 215 dbtorms;
#X msg 47 196 0;
#X obj 47 235 pack 0 30;
#X obj 47 256 line~;
#X obj 12 291 throw~ sum-bus;
#X obj 12 270 *~;
#X obj 12 13 r pitch;
#X obj 12 32 mtof;
#X obj 47 113 f;
#X obj 12 51 * \$1;
#X obj 18 70 ftom;
#X obj 47 135 -;
#X obj 77 134 r whammybar;
#X text 47 31 pitch to frequency;
#X text 47 50 then get the frequency of this specific partial;
#X text 49 69 ... and then convert back to pitch.;
#X text 71 112 ... at which time we get the pitch back...;
#X obj 47 155 tabread4 spectrum-tab;
#X text 200 6 \$1: partial number;
#X text 150 91 calling patch bangs this every 30 msec.;
#X text 204 157 get the strength from the table;
#X text 161 132 and transpose by shifting table index.;
#X text 156 197 but we want true zero when;
#X text 153 212 the table value is 0 or less.;
#X text 133 182 The vertical scale is dB from 1 to 50 \,;
#X obj 47 174 moses 1;
#X connect 0 0 8 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 8 0 7 0;
#X connect 9 0 10 0;
#X connect 10 0 12 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 12 0 0 0;
#X connect 13 0 11 1;
#X connect 14 0 20 0;
#X connect 15 0 14 1;
#X connect 20 0 28 0;
#X connect 28 0 4 0;
#X connect 28 1 2 0;
